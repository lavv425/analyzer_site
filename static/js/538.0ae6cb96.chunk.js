"use strict";(self.webpackChunkanalyzer=self.webpackChunkanalyzer||[]).push([[538],{2538:(e,t,a)=>{a.r(t),a.d(t,{default:()=>T});var o,r,n,i,s=a(7528),l=a(5043),c=a(1906),d=a(5998),u=a(927),m=a(7444),p=a(8390),h=a(9302),g=a(446),f=a.n(g),b=a(547),j=a(490),x=a(1970),v=a(579);const y=u.Ay.div(o||(o=(0,s.A)(["\nmargin: 7%;\ndisplay: grid;\ngrid-template-columns: repeat(2, 1fr);\ngrid-template-rows: repeat(3, 1fr);\ngrid-column-gap: 0px;\ngrid-row-gap: 0px;\ngap: 20px;\n"]))),A=u.Ay.div(r||(r=(0,s.A)(["\ndisplay: flex;\njustify-content: center;"]))),w=(0,u.Ay)(c.A)(n||(n=(0,s.A)(["\nwidth:80% !important;\nborder:1px solid black !important;\nbackground:gainsboro !important;\n"]))),S=(0,u.Ay)(b.A)(i||(i=(0,s.A)(["\nz-index: 9999999 !important;\nposition: absolute;\nwidth: 100vw;\ntop:0;"]))),T=e=>{let{type:t}=e;const[a,o]=(0,l.useState)(!1),[r,n]=(0,l.useState)(!1),[i,s]=(0,l.useState)(),[c,u]=(0,l.useState)(),[g,b]=(0,l.useState)(),[T,C]=(0,l.useState)({whoIsHe:"",email:"",subject:"",description:"",date:null,dateToSave:null}),[H,I]=(0,l.useState)({whoIsHe:!1,email:!1,subject:!1,description:!1,date:!1});(0,l.useEffect)((()=>{r&&setTimeout((()=>{n(!1)}),3500)}),[r]);const k=e=>{const{name:t,value:a}=e.target,o=""!==a.trim();C({...T,[t]:a}),I({...H,[t]:!o})},N=async(e,t)=>{const a={...e};delete a.date;const r=await(async()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<5;a++){const a=Math.floor(62*Math.random());t+=e.charAt(a)}return t})(),i={method:"POST",headers:{"Content-Type":"application/json"},accept:"application/json",body:JSON.stringify({uniqueId:r,type:t,nv:a})};fetch("http://localhost:3001/api/saveContactForm",i).then((e=>e.json())).then((e=>{let{status:t,message:a}=e;t?(C({whoIsHe:"",email:"",subject:"",description:"",date:null,dateToSave:null}),I({whoIsHe:!1,email:!1,subject:!1,description:!1,date:!1}),s("success"),u("Perfetto"),b(a),o(!1),n(!0)):(o(!1),s("error"),u("Errore"),b("Non siamo riusciti a inserire la richiesta, ecco un messaggio di errore dettagliato:\n ".concat(a)),n(!0))})).catch((e=>{s("error"),u("Errore"),b("Si \xe8 verificato un errore nella richiesta:\n ".concat(e)),o(!1),n(!0),console.error("Error:",e)}))};return(0,v.jsxs)(v.Fragment,{children:[a&&(0,v.jsx)(x.A,{}),(0,v.jsxs)("h3",{style:{textAlign:"center"},children:["Form ",t?"per effettuare la segnalazione":"per eventuali richieste di aggiunte"]}),(0,v.jsxs)(y,{children:[(0,v.jsx)(d.A,{fullWidth:!0,label:"Nome e cognome",variant:"outlined",error:H.whoIsHe,helperText:H.whoIsHe?"Questo campo \xe8 obbligatorio":"",className:"form-field",name:"whoIsHe",value:T.whoIsHe,onChange:k}),(0,v.jsx)(d.A,{fullWidth:!0,label:"Mail",variant:"outlined",error:H.email,helperText:H.email?"Questo campo \xe8 obbligatorio":"",className:"form-field",name:"email",value:T.email,onChange:k}),(0,v.jsx)(d.A,{fullWidth:!0,label:"Oggetto",variant:"outlined",error:H.subject,helperText:H.subject?"Questo campo \xe8 obbligatorio":"",className:"form-field",name:"subject",value:T.subject,onChange:k}),(0,v.jsx)(p.$,{dateAdapter:h.R,children:(0,v.jsx)(m.K,{label:"Data necessit\xe0 (se entro una scadenza)",variant:"outlined",error:H.date,helperText:H.date?"Questo campo \xe8 obbligatorio":"",className:"form-field",ampm:!1,value:T.date,onChange:e=>{const t=f()(e).format("DD/MM/YYYY HH:mm");C({...T,date:e,dateToSave:t});const a=null!==e;I({...H,date:!a})}})}),(0,v.jsx)(d.A,{multiline:!0,fullWidth:!0,rows:4,style:{gridArea:"3 / 1 / 4 / 3",width:"100%"},label:"Descrizione",variant:"outlined",error:H.description,helperText:H.description?"Questo campo \xe8 obbligatorio":"",className:"form-field",name:"description",value:T.description,onChange:k})]}),(0,v.jsx)(A,{children:(0,v.jsxs)(w,{variant:"filled",onClick:()=>{o(!0);let e=0;if(Object.keys(H).forEach((t=>{!0===H[t]&&e++})),Object.keys(T).forEach((t=>{""!==T[t]&&null!==T[t]||e++})),e)return o(!1),s("error"),u("Attenzione!"),b("Tutti i campi sono obbligatori!"),n(!0),!1;N(T,t)},children:["Invia ",t?"la segnalazione":"la richiesta"]})}),r&&(0,v.jsxs)(S,{className:"mui-alert",severity:i,children:[(0,v.jsx)(j.A,{children:c}),g]})]})}}}]);
//# sourceMappingURL=538.0ae6cb96.chunk.js.map